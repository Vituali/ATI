<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü§ñ Automatizador de Chat & Conversor de Aditivo</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
</head>
<body>
    <div class="dark-mode-toggle" id="darkModeToggle">üåô</div>
    <div class="chatbox">
        <h1>ü§ñ Automatizador de Chat & Conversor de Aditivo</h1>
        <div class="navigation">
            <button class="button" onclick="showSection('chat')">Chat</button>
            <button class="button" onclick="showSection('conversor')">Conversor de Aditivo</button>
        </div>

        <section id="chatSection">
            <div class="grupo">
                <label for="atendente">Atendente:</label>
                <select id="atendente" onchange="selecionarAtendente()">
                    <option value="">Selecione um atendente</option>
                    <option value="Victor">Victor</option>
                    <option value="Bruno">Bruno</option>
                    <option value="Lucas">Lucas</option>
                    <option value="Igor">Igor</option>
                    <option value="Diego">Diego</option>
                    <option value="Jefferson">Jefferson</option>
                    <option value="Helio">Helio</option>
                    <option value="Marlon">Marlon</option>
                </select>
            </div>

            <div class="grupo">
                <label for="opcoes">Escolha uma op√ß√£o:</label>
                <select id="opcoes" onchange="responder()">
                    <option value="">Selecione uma op√ß√£o</option>
                </select>
            </div>

            <div class="grupo">
                <label for="titulo">T√≠tulo:</label>
                <div class="title-container" id="titleContainer" style="display: none;">
                    <input type="text" id="titulo" class="input">
                    <button class="button" onclick="salvarNovoTitulo()">Salvar T√≠tulo</button>
                </div>
            </div>

            <div class="grupo">
                <label for="resposta">Mensagem:</label>
                <textarea id="resposta" class="message"></textarea>
            </div>

            <div class="controls">
                <button class="button" onclick="copiarTexto()">üìã Copiar</button>
                <button class="button" onclick="toggleEditarTitulo()">Editar T√≠tulo</button>
                <button class="button" onclick="salvarEdicao()">Salvar</button>
                <button class="button" onclick="alterarCategoria()">Alterar Categoria</button>
                <button class="button" onclick="apagarTexto()">Apagar</button>
                <button class="button" onclick="mostrarPopupAdicionar()">Adicionar</button>
            </div>

            <div class="grupo">
                <p id="saudacao">Salvar <span style="font-weight: bold;">Boa noite</span> e <span style="font-weight: bold;">Tenha uma excelente noite</span> como [SAUDACAO] e [DESPEDIDA]</p>
            </div>
        </section>

        <section id="conversorSection" style="display: none;">
            <div class="upload-card">
                <h2>Carregar Aditivo PDF</h2>
                <label for="pdfUpload">Escolher Arquivo</label>
                <input type="file" id="pdfUpload" accept="application/pdf" class="input">
                <span id="fileName">Nenhum arquivo selecionado</span>
                <button class="button" onclick="loadPDF()">Carregar e Extrair Dados</button>
            </div>

            <div class="card">
                <button class="button" onclick="showSection('chat')">Voltar √† P√°gina Inicial</button>
                <h2>Agendamento para Contrato - <span id="contract"></span></h2>
                <div class="grupo">
                    <label>Dados do Aditivo:</label>
                    <p>Contrato: <span id="contractDisplay"></span></p>
                    <p>Nome: <span id="name"></span></p>
                    <p>Endere√ßo Antigo: <span id="oldAddress"></span></p>
                    <p>Endere√ßo Novo: <span id="newAddress"></span></p>
                    <p>Motivo: <span id="reason">MUD ENDERE√áO</span></p>
                </div>
                <div class="grupo">
                    <label for="phone">N√∫mero de Telefone:</label>
                    <input type="text" id="phone" class="input" required>
                    <span id="phoneError" class="error"></span>
                </div>
                <div class="grupo">
                    <label for="technician">Nome do T√©cnico:</label>
                    <input type="text" id="technician" class="input" required>
                </div>
                <div class="grupo">
                    <label for="equipment">Tipo de Comodato:</label>
                    <select id="equipment" class="input">
                        <option value="alcl">ALCL</option>
                        <option value="proprio">PROPRIO</option>
                        <option value="huawei">HUAWEI</option>
                        <option value="tplink">TP LINK</option>
                    </select>
                </div>
                <div class="grupo">
                    <label>
                        <input type="checkbox" id="selfWithdrawal"> Cliente faz a retirada por conta pr√≥pria?
                    </label>
                </div>
                <div class="grupo" id="withdrawalSection">
                    <label for="withdrawalDate">Data de Retirada (a partir de amanh√£):</label>
                    <input type="date" id="withdrawalDate" class="input" required>
                    <label for="withdrawalPeriod">Per√≠odo de Retirada:</label>
                    <select id="withdrawalPeriod" class="input" required>
                        <option value="Manh√£">Manh√£</option>
                        <option value="Tarde">Tarde</option>
                    </select>
                </div>
                <div class="grupo">
                    <label for="installationDate">Data de Instala√ß√£o (n√£o antes da retirada):</label>
                    <input type="date" id="installationDate" class="input" required>
                    <label for="installationPeriod">Per√≠odo de Instala√ß√£o:</label>
                    <select id="installationPeriod" class="input" required>
                        <option value="Manh√£">Manh√£</option>
                        <option value="Tarde">Tarde</option>
                    </select>
                </div>
                <div class="grupo">
                    <label>
                        <input type="checkbox" id="renewal"> √â Renova√ß√£o? (Se sim, isento de taxa)
                    </label>
                </div>
                <div class="grupo" id="taxSection">
                    <label for="taxValue">Valor da Taxa:</label>
                    <select id="taxValue" class="input">
                        <option value="100">100</option>
                        <option value="65">65</option>
                        <option value="50">50</option>
                    </select>
                </div>
                <div class="grupo">
                    <label for="signature">Tipo de Assinatura:</label>
                    <select id="signature" class="input">
                        <option value="digital">Assinatura Digital</option>
                        <option value="local">Assinatura no Local</option>
                    </select>
                </div>
                <div class="grupo">
                    <button class="button" onclick="gerarOS()">Gerar O.S</button>
                </div>
                <div class="grupo">
                    <pre id="output" class="output"></pre>
                </div>
                <div class="copy-buttons" id="copyButtons" style="display: none;">
                    <button class="copy-btn" onclick="copyWithdrawal()">Copiar Retirada</button>
                    <button class="copy-btn" onclick="copyInstallation()">Copiar Instala√ß√£o</button>
                    <button class="copy-btn" onclick="copyOS()">Copiar O.S</button>
                </div>
            </div>
        </section>
    </div>
    <div id="popup" class="popup"></div>
    <script src="main.js"></script>
    <script src="conversor.js"></script>
    <script src="script.js"></script>
</body>
</html>